{% extends "airflow/main.html" %}

{% block head_css %}
    {{ super() }}
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7/dist/style.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block head_js %}
    {{ super() }}
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7" type="text/javascript"></script>
{% endblock %}

{% block content %}
<div class="page-header">
  <h1>Vendors</h1>
</div>

<ul class="nav nav-tabs">
  <li role="presentation"><a href="{{ url_for('VendorManagementView.dashboard') }}">Dashboard</a></li>
  <li role="presentation" class="active"><a href="{{ url_for('VendorManagementView.vendors') }}">Vendors</a></li>
</ul>

<ol class="breadcrumb">
  <li class="active">All</li>
</ol>

<table class="table table-striped" id="vendorTable">
    <thead>
        <th>Name</th>
        <th>Code</th>
        <th>Acquisitions Unit</th>
    </thead>
    <tbody>
        {% for vendor in vendors %}
        <tr>
            <td>
              <a href="{{ url_for('VendorManagementView.vendor', vendor_id=vendor.id) }}">{{ vendor.display_name }}</a><br>
                ID: {{ vendor.folio_organization_uuid }}
            </td>
            <td>
                {{ vendor.vendor_code_from_folio }}
            </td>
            <td>
                {{ vendor.acquisitions_unit_name_from_folio }}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script type="text/javascript">
    let vendorTable = document.querySelector("#vendorTable");
    let dataTable = new simpleDatatables.DataTable(vendorTable, {
        searchable: true,
        fixedHeight: true
    });
    let vendorTableSelect = document.querySelector(".datatable-selector");
    vendorTableSelect.classList.add("form-control");
    let vendorSearchInput = document.querySelector(".datatable-input");
    vendorSearchInput.classList.add("form-control");
</script>
{% endblock %}
